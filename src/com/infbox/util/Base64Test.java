package com.infbox.util;

import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;

import Decoder.BASE64Decoder;

public class Base64Test {

	/**
	 * @Description: 将base64编码字符串转换为图片
	 * @Author:
	 * @CreateTime:
	 * @param imgStr
	 *            base64编码字符串
	 * @param path
	 *            图片路径-具体到文件
	 * @return
	 */
	public static boolean generateImage(String imgStr, String path) {
		if (imgStr == null)
			return false;
		BASE64Decoder decoder = new BASE64Decoder();
		try {// 解密
			byte[] b = decoder.decodeBuffer(imgStr);
			// 处理数据
			for (int i = 0; i < b.length; ++i) {
				if (b[i] < 0) {
					b[i] += 256;
				}
			}
			OutputStream out = new FileOutputStream(path);
			out.write(b);
			out.flush();
			out.close();
			return true;
		} catch (Exception e) {
			return false;
		}
	}
	
	
	public static void main(String[] args) {
		
		//
		String s = "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAOJAoADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD6kgiWGMKg+p7k+pqSgdKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKjnhSaMq4B9D6H1FSUUAA6UUDpRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUVBfXMdlZT3U27y4Y2kbaMnAGTj8qAJ6K8zi+NngweE7DxFe3l1ZabfTSW8BmtmZ2dPvcJuxVMftC/DU/8x6T/AMAp/wD4igD1iiuLs/id4TvPBt14pg1QHRLaQxSTvE6HeMfKFYAkncMYHOabc/FTwRa6dY31x4jsY7W+Rnt3LH5wpw3bgg8EHkUAdtRXl118e/hvbnD+I0c/9M7aZ/5Ka6Wx+InhS78MWfiE61a22kXcjRQ3F23kB3UkFfnxz8p49qAOsorlbb4heEryG8fT/EWl3htLeS7mS3uUdliQZZiAegpPhx4503x/4fbWNHgvIbUTNB/pUYQsyhSSuCcj5sZ9QfSgDq6K53x14v0vwT4dn1rWmm+yRMExDGXZmPAAHbPuQKx9X+K/gzR/D2nazf61ElnqEJmtQqs7ygYyAoBOQTgg9DQB3VFeeWfxo+H1xaQznxRYQ+aiv5crFXTIzhh2I7iux0TXdM1zSI9V0i9hu9Ok3FZ4jlTtJB/Ig/lQBpUV5fB8cPB8/hDUvEcM161jp9wltKnkfOXY/Lt52tkAnr0Fd94e1m217QrDVrISLa3kKzxCVdr7WGRkdjQBpUUgIYZByKWgAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAHSigdKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACuM+L+gzeI/h/qtjbanPpbrGZjPDnJCAsVPI4OMGuzrhvjR4VsvF3gC/sNTupbW3hH2vzIyAcxgkDnjFAHxdoulNP4Q8KtZ6/m6vNcSAWhw66e2cLJsz/FnOCBnZXaz6lrFxc+GYtP8bi8svEE8lrHcf2DBF5RVlViVPP8AH2rhNHnsNM07wPcWsDy3kd7NqeoIkp/exwyDYMdFIWOXnH8VbS+FrN7v4Z/2RrupwWet3MgRZpFMlgfOVCybcAE9e3SmM9b8Jy2/hH9nC+n0Gw/4TTTbi+dp0mtjAqRfKrlkJLcbeo6ZB6A1keF4LO48OWM/w7+FFr4j0qYPLNPq5RpIbguQ0Sl/vIoCYI6jr82a6r4d+J9O8K/AXxedGN0qaFcXNrFNdMhaSZsbWAHGNzrxXl994g8UzeCPhlC/iS40SPVLi5h860xapFAJY0UssZVTj5jk46nJ70AVfh43iC2+KHik6Z8O9M1K/BbztJfyxHYfOOEJ446cV6l8StQ1ST4PLfeM/hvZwx2OqKfsEd0ypDEVA8792e5Zl6jBIPNcrrHwxXwzYa74j0v4xiXVRbSTy+Q4SW6ZQWClxOSSSB6102hfESDRv2X4NQ8VTS6vf6mt1ZwxXUjSNcMXdcMx52qOT7DA5xQB4nqNzbf8JH41n+Gek3r6Fd6ZFaKIUdzbJJ5BlLk5IyySL6fN6Vu6T8PdKmuPEnh+2i8Sv4l0XTPtTLa3SNHPckR/u1iEW7AZ8feJwvbtp/ATxPL8JZdam8W6RdW2n6jYxXcNxs5LYYxIP98E/QjJwASMfwb4i8SeF/Ftt8V9Ws5TomtahPb3G3JLI3JwD2HO056xkfUA9P0y9b4ffs4afa+MPDt/qseqSzpdWjZR7dGLEM2QcYCgg8YJBrhWtPDupXvwYTR9Klh0e8vJlltb2XzzIRcIjlzjB3bM4AA56V9CfFfxl4eufgnrupwaray2WpafNbWjq2fNlkjIVAOu7J5HbBzjBr5r8IeDNX8e+GPBCaF4g0yyTSUulnZrgRz2MjXDOGwDuO5SpXGANp5FAGz4i8M6JefGL4r20um232XTfD811ZxRrsSGVYoNrKFwBjcfzrY0/wAbJ4Q/ZI0yGByupas11Z2wXqAZn8x/bCn82FcjY/D7xDb/ABM8S+GPCOtW1vENLFpPqF4vlxXUBWESKpw2CWIPBzhTzXrPij4V2Fn+z7b6bqV9He3PhyC6vRJbH5HlZZG2564BdT77RxzQB45pGgXmteDvh5oc2NK8K6hezXV7qc0qpHJcbmUjJ4DCKPCg9Sx9CaW98C+E7m78c6Zo8OpR6hoOUtZbrU4BHcv5mznciADGW+92q5omm6p4x8P/AAq8LNZ3KeH/ADprm6umUiBj5z7gW6blRWx/v4qS70GHxL4g+NkVvHHO1qHvbZlwcGKcsSp9Su4cepFAH0l8D9Kl8H/B7RLXWv8ARZYYXnnEhH7ve7Pgn2BFdh4c1218Qae17YrKIBK0YMi4LY7gehrzz4Y2dz41+B+h2mvRXlreRQiLMyMjMYyVRyD94FQp9/rXQeDvBgstJeDVTcpOJmx9nvZY0ZexwjAfpmt4xpOk5SfvX28jCUqinZLQ6jw9qLarpMF48YiaTd8gOQMMR/StKoLK0hsrWO3tUEcMYwqjsKnrGVm3bY1V7ahRRRUjCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAHSigdKKACiiigAooooAKKKKACiiigAooprnCkjtQA6ioLCVprK3lkxueNWOPUjNT0AFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFcz8RfB1j478MTaHqk1xDbSukhktyA4KnPBII9vxrpqKAPJdI+AXgrShbm3trtpY7S4s3labLTLMrKzNxjcFZgCAMA98DGf/AMM1fD8YxDqfHT/Sz/hXtVFAHk2l/Azw7ZeA9S8JPeanNpt7di8ZvNCSIwACjIGCBgHBB5qTxn8E9A8U6f4W065uLqDT9Ah+zxQx4zMmEBDN1yQnJHqTXqtFMZ4ze/s3/D2a0mittPu7eZ0KpMLuRjGxHDAFsHHXmuk0b4TeHbPwJpfhTUom1XTtOujdxG5wCX3s3IHUfMRjuOtehUUhHn/xK+FPh/4g3OlT6yk0clg4w0DbTJH3iP8As5xyORzjrXSap4U0TVPC7eHrzToG0cxCEWwXaqKPu7cfdIwCCOQRW5RQB5tP8GvCkvgjTfCrQTnS7K7W8BMn7yVxndvYDncDtPt0xgVh+If2cvAWs38l1Hb3umNIcmOxmCR/grKwH0HFey0UAeCf8MteCP8AoIeIP/AiL/43XoHh74X6HoHw/v8Awhp73g069WUTzO6mZvMGCc7cZwABx2ru6KAOAj+FmiL8L28CGe/OkH/lr5i+cP3vmZDbcdR6dKPhh8KfD3w5kvpdDN7NcXgVZJruUO20fwjaoAGeeld/RQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFVrKV5WuQ+PklKLj0wP8as0AFFFFABRRRQAUUUUAFFFFABRRRQADpRQOlFABRRRQAUUUUAFFFFABRRUc7SJGWij8x+y7sZ/GgCSmyf6tvpVP7Te/wDPh/5GWke4vSpH2Dr/ANNhQBLpX/ILs/8Arin/AKCKtVX0+NobG3ikADpGqke4GDVigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigClpv37z/r4b+Qq7WbF9rtpbkJaiVXlLhvMC8EDt+FSfab3/AJ8P/IwoAvUVWtpriRyJ7byVxwd4bNWaACiiigAooooAKKKKACiiigAHSigdKKACiikbpQAtGa88/wCEm1GPw/fXZvLYy+SPLEpCFX8oOSoCnd99QAfTrzWnqXiCf+zrOdLmGPdcOszWhE3yLBJJgblHJKDtWKrRex1SwlSO/odhmiuDbxDd28V4l3rGnx3tqY1W3IXdMTFGxI5B5LNjA7V3Y6CrhNT2M6tGVK1+otFFFWYmH4t1ttCsredfsY82dYd95ceREmQTlnwcdMdOpFcD4Z+JV7qc/wBsuIrWOzutLhubVZZ0hhMo4l/etyRvkRPu9UOM9/QvEmn3moR2R06e2gnt7kTb7iJpFxtZT8oZSfvf3h/SuXsPBU8F3oVtNPJ9l0/RBp73EBCFpA0fIByRkKTTGWPGfjBNFguZINd0G3uLeNS9ldfNIHJHGRKuOCONtXfD/iA6hJfQW+uaLrF2sIngjs0MSKvI+Z98gIJxyOQD0PFS6zp15ruoW9lPEIdGtZo55mchmu2QhkVQOiBgCSeTtwBjmq2g6bqtmbrw/qEEU+gJCUtL1JysvldBC69cqMgODyAO+TQBxC/FPVH1m3nW00z+yHjvA7JdyTLiBsCUMkBYBtk2Bg5EZPGOe2vvEWpQ+DtP1VIbb7TeT26qsYaRRHLKqggN5bZ2sDg4wc1w198PL69tTb6bpNrYyQXdw8ktzIu27t2mkK26Bd2xShHzYBTc2AdzV2usJqGt6BZRXuh31vKZBLJBbyWc3lMh+UEy5UjOGBAyMDp0oAo+FfFusarren293BFFbTm9Vv8ARthzDL5akN5rdepGPxrH+IXj7xBoPi99P0jTkvLEWAuN5AXa6M/m8kjOFMR/Gn+EfDWqaJd2c503VDPHdXBPOnJH5U0rMdzInmcBlYqpALLjpWJ4++HGvarrqy6bBZBbi5VXuQqKsURkjdmEeRgYVgcmQuSQQFxgA7LQ/Fupy/CW/wDEl5DF/a1tZ3N35EiFFBVWeNWHXG3Zkj36HgVbjx1epqdjY29xYXdy08Ed5Glo6fZlkmSP5yZchjvJXg7gpI45qvpPgO/sfAeraHJLG0urW66e7BIy8ERVo3dpVVPNwrFlyoPIBzyau6v8PpW3arpl6BrpKTzbxiG6kieN4lYc7VTywq4yQGbqScgGj478T3nh68sYrd4cXaN5avbB/mVkXBczRgZMiADByfwFZPgTxxqPiLWtPtLryoTNZvdyxLaKNpURZTeLhypHnIcFBkEHitLUdD1bXk0G51BjZXsFk5ulhdWUTM8DeXg5DIfLcZ7cEYODWf4M8L61pXi+yur8RtYW2kG2D+arMJXFsCmAoOAbdjkk/eA7YoA9IrnfHWtXGi6HLJYLDJqEyvHaxSFsySiNmUKqqSx+U8cDAPNdFWP4s0o6zoF7ZxCMXEsTJFI/GwsCMgjkcEjj1pCPPl8e67baq5v4dNh06N9k0kzyqsZKW21Swi4Yl5cA+3YAnoviD4vk0PRdSlsDEJ7eIt5su4LG2RkkbSCACOc96qWngsQeMI7y30vTobGHUTdiXOJCPsgjAVQCMbyTyRgrnBzUHjnwzr3iC+1C708Wsax2h0+3t7mQqJkdg8sgZclDlEVcg/dOcZBDGbN34ruF0HXbmKCNLuzt3ntwFkdHULwWLKgzuyNoPTBzzxhwfEC7k15IIFju7JZDbS5tzbsJfOtYyAS7H5ftJ3Ar1XANWFs9e1LRPENncaLdWEl5aMqSSaqLrMpXaAinheO/A6cGql14HMHiZptP06aOzt7ZZzOl4pe9uBNBIAwYcMfIwzH7wI5HYAt6t4z1TTvDOgagth9qkvChmlEkMMI3I5CFpJAVOQOcEfjxWd4G8a+KNc8XT6df6fp9tZWz3CPM1x/x8hZioaDC/OF4UngZ64JAq03hNry38FLqOjyyz2qKtyxuvktQImyNobBYsQNygnjriqHgT4ey6fe+HrvWdE0qKaxtXLSRNG5Wc7MEKIl2fx/dYjpQBqaj4zvLLWNWhuLiKC0gvUtLdzblg5aKNgpbcAWLOQB9KtWOv63P4V1vU1eFZLSWR4DcWjBZYUhVuAGHVt3zZI9q5bxP4S1zVhPd2ulyQapLNNcRTpMFaIvtVQGW5TDCNFVvlbnODjru6J4c1mHwbr+jWtvb6ZLdySPC88YaICVcOAiSsVwc9WPJzzzQBman451+ynubd0W4W3SRZ57W0iTEhhimRY1kuMnakvzEg8gYHXHrCkpEvmuu4AbmxgE15fq3hDVbu+1O6sIgkBR8w3Eih7tzDDCdhXIiXZAuC24ks2QABXeeIdKk1rSfsfnJAkhBlDwrKGXuuDx1wc+1NWbSYnotDWUhlBByD3par6faR2Nhb2kJJjgjWJM9cKMD+VWKTBBRRRSAKKKKACiiigAooooAKKKKACiiigDC8b6ndaR4W1O9sLeae4ht5HTyimUIQkOd7AEAgep9jXnNx8TdYaHVVs4Lb7RbDbEjRxSAH7MZd0ki3AULujl5AwNtd38SNFfXvCN/ZQWMV9cPG3lRSzmJd+0gHIBzjOcHg968+n+H+rXF7e3dxpVjcfaED+W04jI/dXSCH5RjCiWFc9DsY96Yzt9X8U3VlrcNlAIJGMSiSN4Zc72BZHVkVg0ZCSg4GQyqO+aq+E/E+qamLiW7eGZ2NxHb2lvp08Q3xSOuWnclfmCjgquCe54qLX/D+tXVzLdQyzSSJZW1vAouBCEczq1xhkAZdyRpzz329SKs6DoGoaV4jvp7e1WG1axxCp1Ga4jacyu7Ehxlc5BJAPU0Ac5e/EzUcvJHa2Ys7e5hWeS1laV0QZadWWRI9rLuiQg8q0nPPFdbN4ouW0y0ujZT6W8t+lv5OoQli8ZlEZIMRYKTu+Unr9Dmubf4cyXd3qOn3dxLLpGoGO51GSQrm5uPmL+WOSisfK3A4AESgZySNmXT/FmraJptrenTLO7tp1kuZnDTCdoZFaJkVSNquVycnKjjBJyADD07x34i8yylurCxlivbe3uDGHaL7NvuBAyA4bzCCwOcqKteKPGGpjxVfaV4ekRp7aCK3WN4hse5mfO/ecDEUcbkgHktt64rEtfA+q6frto0Hh2D7FHHDG3l6253Ok3m+Y7Mm5xkL8pHQD2rpfEHhe5uPEt3dwWEU2mJDbXH2VXEf2ueKWeTafTDOsmTwWC5OMmgDoPC/iCXXT5ken3MVi1vFPFeOVCTbxnAXO4EDBOR3x2roa4/wH4autEtrOaaUwtJp1vDd2YwU+0RqFMgPrtwp9Qq+ldhSEYPinV7nSRZvaQtMDMv2hfs8smIM4dgyKQrKDuAP3tpHHUYHgjxr9t8PeHn1gXjX+qkKjrp8qRksGdfmK7cbF6g+9bXi601LWY/7HsGNpaXK4vL4MA6xHho4x13sONxwFByMnArnYfDFxa+PLNtN0r7FosUgupZEug0DssMsShYcAo583LEcERryTmmMzbvx/fPq2qT6fKr6Xa3flsGgP7u3gj3zygnBcuzKigZ4UsM4NdTqHia/h0qa6OlyWbJqVvZJ9pKsJUeaONpFCnOPmbGcdM8g1y/iPwbqU0WuNaWMc8TSSLp9okqxqhkt44TN6fKAygccM/tXVTaNPplrqiWQvLqG8uxcQwweTutGIBYp5vy4LgtyDgscUAcg3j/AFS3vfDunS6hpCXOqRWk3mTwlQiOrNJvbzAA2FwgxliwwMK2Ow8Ra7epc6hpumrbQ3CWqvDd3FwqIJW34G0jkDapPs1cVpvhXVtPbVVi07WHtLm5jnS03aYscwSNBtkwhwCVIO0dMd816Bruii+k07ULdXivLFzKIo2VRcKUKmFzgjaSVPsVBGKAMfwj43Pia7aztVs1cWjS/aFuBIDKsjRsBHwxUMpOc4wV55qjqHja5s/HH9gS6hp6QwWb3N5ePZuI4W3RhYy3mYBxIGOegKnvmtnwNpF3beC4bW8ibTL+Xz3YRFGkg8yV3ABwVJAYeoyO9RweFY7HxRpL2Vsv9mQ2F5FcM7bmkllkgbLZ5YtsckmgBniXxLL4Y02yn1K/hYB/NnnNo/lyw7sMi7SdrgMpGSc4OAecc14Y+Js99q4nmilvNH1G58iD7Jb7jp7DaFSV+jl9wb5c7CcZIINafi7wRK+gWWk6CJRptnBebLQygqZHhkWIZYZwrOcc4GB6DFDwp4U1bS5tKNxbXUuy9ffJNKjukflx4diG6Ex4AGTgjOMUAeps6oMuwA9SaXNYfinw+PENvDbT3AjswSZYjCrl+mME/dI55HrW4Bim7WRKbuLRRRUjCiiigAooooAKKKKACiiigAHSigdKKACkbkUtFAHDTeGdRXS1itpEaae0NrMks2yNBsKgjapzjJ6/nV9tK1O5e2e5ZYXW/acmKTzPLQ27RjbuX+8emO5rqsUVmqUUdEsVOW5xqeH9Qs9O1DT7I2zWkmxYjKT5hVYo05wMZ+SuxHQUtFOMFHYipVlUtzBRRRVmQUVleI9YTRbOOeSJpfMmSBQpAwWOATntXn9p8XEmn0qB7CySS9WB2dtQCxxJIgdmZym0FRn92WDk4wMHNAHqtFch4m8aR6Zqtjp2nQLfXMhEtzhwq28HGWLdNx3Davfk8AZq/wCFvFVl4isWmt45re4RBLLZzgCeJGLbCygnG4KSB17deKAOgorkdL8YS31zqUSaLqDG1uGiQIgUuoVTuIcrg5bpz2/C6/iiJdN0i7XT76R9UbZBbIE8wHy2kO7LBRhUbvQB0NFcZoHjK+1KS8jl8N6jG1vqDWRdHhKhflIdsyAjAbkDPTjOcUP4/wBNt/E2q6Zet5EFlDDIsxjkO9mWZ2XG3oFhJz3oA7OiuavvGFhb6Hq2pwQX1xHpkP2i4i+zNDIE2l8gShM/KCeKo3HjaW2vY4bjRrnZJDDIPLljZlaWYxRqRuA5O05B4z+NAHZ4orlPEPjGDQ7rR4ryF4heM3n71ZjbqsLyEkoCCRsxgGr2n+K9K1C8htrSW4keV2jRzayrGzKCzAOVC5AB70AbtFc74g8RvpWtaPZQ2T3iXxmEhicbovLTd0PB/EjHv0rX0q8OoWMVybeW3...";
		
		int st = s.indexOf(",");
		System.out.println(s.substring(st+1));
		
	}
}